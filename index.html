<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AnimeRat Test (Works on Android)</title>
  <style>
    body {
      background: #0f0f0f;
      color: #fff;
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #ff77ff;
    }
    #anime-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .anime {
      background: #1a1a1a;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 5px #ff77ff70;
      transition: transform 0.2s;
    }
    .anime:hover {
      transform: scale(1.05);
    }
    .anime img {
      width: 100%;
      height: 220px;
      object-fit: cover;
    }
    .anime h3 {
      font-size: 14px;
      text-align: center;
      margin: 10px;
      color: #fff;
    }
  </style>
</head>
<body>
  <h1>AnimeRat â€“ Working Jikan API Test</h1>
  <div id="anime-list">Loading anime...</div>

  <script>
    const container = document.getElementById("anime-list");

    async function loadAnime() {
      container.innerHTML = "Fetching anime...";
      try {
        // âœ… Use proxy so it works on Android / Acode
        const url = "https://api.allorigins.win/raw?url=" +
          encodeURIComponent("https://api.jikan.moe/v4/top/anime?limit=10");

        const res = await fetch(url);
        const data = await res.json();

        container.innerHTML = "";
        data.data.forEach(anime => {
          const card = document.createElement("div");
          card.className = "anime";
          card.innerHTML = `
            <img src="${anime.images.jpg.image_url}" alt="${anime.title}">
            <h3>${anime.title}</h3>
          `;
          container.appendChild(card);
        });
      } catch (err) {
        console.error(err);
        container.innerHTML = "Error loading anime ðŸ˜ž";
      }
    }

    loadAnime();
  </script>
</body>
</html> 
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AnimeRat â€” Discover anime you'll love</title>
  <meta name="description" content="AnimeRat â€” search, rate, and follow anime. Smooth UI, genres, details, reviews, and MyList-ready menus." />
  <meta name="theme-color" content="#0b0710" />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css">

  <!-- NOTE: firebase-config (if you add later) should be loaded BEFORE firebase-client & script.js -->
</head>
<body>
  <!-- APP WRAPPER -->
  <div id="app" class="app-root">

    <!-- TOP NAV -->
    <header class="topbar" role="banner">
      <div class="container topbar-inner">
        <div class="brand" id="brand">
          <button id="menuToggle" class="icon-btn" aria-label="Open navigation">â˜°</button>
          <a href="#" class="brand-link">AnimeRat</a>
        </div>

        <div class="search-wrap">
          <label for="globalSearch" class="visually-hidden">Search anime</label>
          <input id="globalSearch" class="search-input" type="search" placeholder="Search anime, studio, genre..." aria-autocomplete="list" aria-controls="searchSuggest" autocomplete="off">
          <ul id="searchSuggest" class="suggestions" role="listbox" aria-label="Search suggestions"></ul>
        </div>

        <div class="top-actions">
          <button id="signinBtn" class="btn btn-ghost" title="Sign in">Sign in</button>
          <button id="themeToggle" class="icon-btn" aria-label="Toggle theme">ðŸŒ“</button>
        </div>
      </div>
    </header>

    <!-- SIDE NAV + MAIN -->
    <div class="container layout">
      <!-- SIDE NAV -->
      <nav id="sidebar" class="sidebar" aria-label="Primary">
        <ul class="navlist">
          <li class="nav-item"><button class="navlink active" data-section="home">Home</button></li>
          <li class="nav-item"><button class="navlink" data-section="top">Top Rated</button></li>
          <li class="nav-item"><button class="navlink" data-section="airing">Airing Now</button></li>
          <li class="nav-item"><button class="navlink" data-section="upcoming">Upcoming</button></li>
          <li class="nav-item"><button class="navlink" data-section="movies">Movies</button></li>
          <li class="nav-item"><button class="navlink" data-section="genres">Genres</button></li>
          <li class="nav-item"><button class="navlink" data-section="mylist">My List</button></li>
        </ul>

        <div class="sidebar-block">
          <h4>Filter by genre</h4>
          <div id="genreList" class="genre-list" aria-live="polite"></div>
        </div>

        <div class="sidebar-block">
          <h4>Quick actions</h4>
          <button id="refreshBtn" class="btn btn-sm">Refresh Data</button>
          <button id="randomBtn" class="btn btn-sm">Random Pick</button>
        </div>
      </nav>

      <!-- MAIN CONTENT -->
      <main id="main" class="main" role="main">
        <!-- HERO / SEARCH RESULTS -->
        <section id="home" class="page-section active" data-section="home">
          <div class="hero">
            <div class="hero-left">
              <h1 class="hero-title">Discover anime you'll love</h1>
              <p class="hero-sub">Featured picks, airing now, upcoming releases â€” clean, fast, and private.</p>
              <div class="hero-ctas">
                <button id="ctaTop" class="btn btn-primary">Explore Top</button>
                <button id="ctaAiring" class="btn btn-outline">Airing Now</button>
              </div>
            </div>
            <div class="hero-right" id="hero-card">
              <!-- Filled dynamically -->
              <div class="hero-placeholder">Loading featured...</div>
            </div>
          </div>

          <div class="section-controls">
            <div class="controls-left">
              <label for="sortSelect" class="small-label">Sort</label>
              <select id="sortSelect" class="select">
                <option value="popularity">Popularity</option>
                <option value="score">Score</option>
                <option value="episodes">Episodes</option>
                <option value="airing">Airing date</option>
              </select>
            </div>
            <div class="controls-right">
              <label class="small-label">View</label>
              <button id="gridView" class="view-toggle active" title="Grid view">â–¦</button>
              <button id="listView" class="view-toggle" title="List view">â˜°</button>
            </div>
          </div>

          <div id="feed" class="feed grid">
            <!-- Anime cards will be rendered here -->
          </div>

          <div class="load-wrap">
            <button id="loadMoreBtn" class="btn btn-outline">Load more</button>
          </div>
        </section>

        <!-- OTHER SECTIONS (hidden, toggled) -->
        <section id="top" class="page-section" data-section="top" hidden>
          <h2>Top Rated</h2>
          <div id="topFeed" class="feed grid"></div>
        </section>

        <section id="airing" class="page-section" data-section="airing" hidden>
          <h2>Airing Now</h2>
          <div id="airingFeed" class="feed grid"></div>
        </section>

        <section id="upcoming" class="page-section" data-section="upcoming" hidden>
          <h2>Upcoming</h2>
          <div id="upcomingFeed" class="feed grid"></div>
        </section>

        <section id="movies" class="page-section" data-section="movies" hidden>
          <h2>Movies</h2>
          <div id="moviesFeed" class="feed grid"></div>
        </section>

        <section id="genres" class="page-section" data-section="genres" hidden>
          <h2>Genres</h2>
          <div id="genresFeed" class="feed grid"></div>
        </section>

        <section id="mylist" class="page-section" data-section="mylist" hidden>
          <h2>My List</h2>
          <div id="myListFeed" class="feed grid"></div>
        </section>
      </main>
    </div>

    <!-- FOOTER -->
    <footer class="site-footer" role="contentinfo">
      <div class="container footer-inner">
        <div>Â© <span id="year"></span> AnimeRat</div>
        <div class="attribution">Data via <a href="https://jikan.moe" target="_blank" rel="noopener">Jikan API</a>.</div>
      </div>
    </footer>

    <!-- MODAL: Anime Details -->
    <div id="modal" class="modal" role="dialog" aria-hidden="true" aria-labelledby="modalTitle" aria-modal="true">
      <div class="modal-backdrop" data-action="close"></div>
      <div class="modal-panel" role="document">
        <button class="modal-close icon-btn" data-action="close" aria-label="Close">âœ•</button>

        <div class="modal-body">
          <aside class="modal-left">
            <img id="modalCover" src="" alt="" class="cover-img" loading="lazy">
            <div id="modalActions" class="modal-actions">
              <button id="modalAddList" class="btn btn-sm">+ MyList</button>
              <button id="modalRate" class="btn btn-sm">Rate</button>
              <button id="modalMore" class="icon-btn">â‹¯</button>
            </div>
          </aside>

          <section class="modal-right">
            <h2 id="modalTitle">Title</h2>
            <div class="meta-row">
              <span id="modalScore" class="badge">Score: â€”</span>
              <span id="modalEpisodes" class="badge">Episodes: â€”</span>
              <span id="modalStatus" class="badge">Status: â€”</span>
            </div>

            <div class="genres" id="modalGenres"></div>

            <div class="desc" id="modalSynopsis"></div>

            <div class="trailer" id="modalTrailerWrap" hidden>
              <label class="small-label">Trailer</label>
              <div id="modalTrailer"></div>
            </div>

            <div class="reviews" id="modalReviews">
              <h3>Reviews</h3>
              <div id="reviewsList"></div>
              <div class="review-form">
                <label for="reviewText" class="small-label">Write a review</label>
                <textarea id="reviewText" rows="3" placeholder="Share your thoughts..."></textarea>
                <div class="review-controls">
                  <div id="ratingStars" class="stars" role="radiogroup" aria-label="Rate this anime"></div>
                  <button id="submitReview" class="btn btn-primary">Submit</button>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <!-- TEMPLATES (not visible) -->
    <template id="cardTemplate">
      <article class="anime-card" tabindex="0" role="article">
        <div class="card-media">
          <img class="card-img" src="" alt="" loading="lazy">
          <button class="card-more icon-btn" title="Options">â‹¯</button>
        </div>
        <div class="card-body">
          <h3 class="card-title"></h3>
          <div class="card-meta">
            <span class="card-score">â€”</span>
            <span class="card-episodes">â€”</span>
          </div>
          <p class="card-synopsis"></p>
          <div class="card-genres"></div>
        </div>
      </article>
    </template>

    <template id="reviewTemplate">
      <div class="review">
        <strong class="review-user"></strong>
        <span class="review-rating"></span>
        <p class="review-text"></p>
        <time class="review-time"></time>
      </div>
    </template>

  </div>

  <!-- Scripts (load script.js last) -->
  <script src="script.js" defer></script>
</body>
</html>
